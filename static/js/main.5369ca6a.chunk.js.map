{"version":3,"sources":["actions/index.js","components/Justicer/index.js","reducers/index.js","components/Header/Header.js","components/Item/Item.js","components/ItemList/ItemList.js","components/StatusBar/StatusBar.js","components/ToolsBar/ToolsBar.js","components/Notification/Notification.js","containers/Footprint.js","containers/App.js","index.js"],"names":["INIT_GAME","PLAY_GAME","END_GAME","playGame","coord","type","Justicer","coordinate","piece","list","x","y","count","justiceXR","justiceXL","justiceXYLR","justiceXYLL","justiceYB","justiceYT","justiceXYRL","justiceXYRR","initialGameState","listArray","initialListArray","activeUser","mode","first","winner","gameOver","Array","i","subList","j","push","gomokuApp","combineReducers","gameState","state","arguments","length","undefined","action","newState","JSON","parse","stringify","nextStatus","init","result","justice","play","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","countNum","countId","_this2","setState","dispatch","setTimeout","counting","prevProps","clearTimeout","countdownEl","_this$props","countdown","react_default","a","createElement","className","React","Component","connect","Item","handleClick","bind","assertThisInitialized","event","onClick","listNumber","sequenceNumber","preventDefault","itemClassName","spanClassName","handleItemClassName","ItemList","map","item","index","key","Item_Item_Item","StatusBar","itemClass","humanClass","computerClass","ToolsBar","restart","refs","modeSelect","value","firstSelect","onRestart","ref","Notification","styles","counter","active","countArr","countTop","countRepeat","_i","_countArr","App","pieceCount","enemy","topTime","countSumTop","k","l","attackCountTop","attackCountRepeat","attackCountArr","defendCountTop","defendCountRepeat","countSum","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","err","return","Footprint","_this$props2","itemList","ItemList_ItemList","components_Header_Header","StatusBar_StatusBar","Notification_Notification","ToolsBar_ToolsBar","initGame","store","createStore","ReactDOM","render","react_redux_es","src_containers_App","document","getElementById"],"mappings":"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","file":"static/js/main.5369ca6a.chunk.js","sourcesContent":["// action 类型\r\nexport const INIT_GAME = 'INIT_GAME';\r\nexport const PLAY_GAME = 'PLAY_GAME';\r\nexport const END_GAME = 'END_GAME';\r\n\r\n// action 创建函数\r\nexport function initGame(nextStatus) {\r\n  return {\r\n    type: INIT_GAME,\r\n    nextStatus: nextStatus\r\n  };\r\n}\r\n\r\nexport function playGame(coord) {\r\n  return {\r\n    type: PLAY_GAME,\r\n    coord: coord\r\n  };\r\n}\r\n\r\nexport function endGame() {\r\n  return {\r\n    type: END_GAME\r\n  };\r\n}","export default function(coordinate, piece, list) {\r\n  let {x, y} = coordinate;\r\n  // 统计数目\r\n  let count = 0;\r\n  // 0度角\r\n  count = justiceXL(x, y, piece, list, count);\r\n  count = justiceXR(x, y, piece, list, count);\r\n  if (count >= 4) {\r\n    return true;\r\n  }\r\n\r\n  count = 0;\r\n  // 45度角\r\n  count = justiceXYLL(x, y, piece, list, count);\r\n  count = justiceXYLR(x, y, piece, list, count);\r\n  if (count >= 4) {\r\n    return true;\r\n  }\r\n\r\n  count = 0;\r\n  // 90度角\r\n  count = justiceYT(x, y, piece, list, count);\r\n  count = justiceYB(x, y, piece, list, count);\r\n  if (count >= 4) {\r\n    return true;\r\n  }\r\n\r\n  count = 0;\r\n  // 135度角\r\n  count = justiceXYRR(x, y, piece, list, count);\r\n  count = justiceXYRL(x, y, piece, list, count);\r\n  if (count >= 4) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n// 0度角左判断\r\nfunction justiceXL(x, y, piece, list, count) {\r\n  if (list[x - 1] && list[x - 1][y] && list[x - 1][y]['piece'] !== 'none') {\r\n    if (list[x - 1][y]['piece'] === piece) {\r\n      count++;\r\n      return justiceXL(x - 1, y, piece, list, count);\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 0度角右判断\r\nfunction justiceXR(x, y, piece, list, count) {\r\n  if (list[x + 1] && list[x + 1][y] && list[x + 1][y]['piece'] !== 'none') {\r\n    if (list[x + 1][y]['piece'] === piece) {\r\n      count++;\r\n      return justiceXR(x + 1, y, piece, list, count);\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 45度角左判断\r\nfunction justiceXYLL(x, y, piece, list, count) {\r\n  if (list[x - 1] && list[x - 1][y - 1] && list[x - 1][y - 1] !== 'none') {\r\n    if (list[x - 1][y - 1]['piece'] === piece) {\r\n      count++;\r\n      return justiceXYLL(x - 1, y - 1, piece, list, count);\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 45度角右判断\r\nfunction justiceXYLR(x, y, piece, list, count) {\r\n  if (list[x + 1] && list[x + 1][y + 1] && list[x + 1][y + 1] !== 'none') {\r\n    if (list[x + 1][y + 1]['piece'] === piece) {\r\n      count++;\r\n      return justiceXYLR(x + 1, y + 1, piece, list, count);\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 90度角上判断\r\nfunction justiceYT(x, y, piece, list, count) {\r\n  if (list[x] && list[x][y - 1] && list[x][y - 1] !== 'none') {\r\n    if (list[x][y - 1]['piece'] === piece) {\r\n      count++;\r\n      return justiceYT(x, y - 1, piece, list, count);\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 90度角下判断\r\nfunction justiceYB(x, y, piece, list, count) {\r\n  if (list[x] && list[x][y + 1] && list[x][y + 1] !== 'none') {\r\n    if (list[x][y + 1]['piece'] === piece) {\r\n      count++;\r\n      return justiceYB(x, y + 1, piece, list, count);\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 135度角右判断\r\nfunction justiceXYRR(x, y, piece, list, count) {\r\n  if (list[x + 1] && list[x + 1][y - 1] && list[x + 1][y - 1] !== 'none') {\r\n    if (list[x + 1][y - 1]['piece'] === piece) {\r\n      count++;\r\n      return justiceXYRR(x + 1, y - 1, piece, list, count);\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 135度角右判断\r\nfunction justiceXYRL(x, y, piece, list, count) {\r\n  if (list[x - 1] && list[x - 1][y + 1] && list[x - 1][y + 1] !== 'none') {\r\n    if (list[x - 1][y + 1]['piece'] === piece) {\r\n      count++;\r\n      return justiceXYRL(x - 1, y + 1, piece, list, count);\r\n    }\r\n  }\r\n\r\n  return count;\r\n}","import { combineReducers } from 'redux';\r\n\r\nimport {\r\n  INIT_GAME,\r\n  PLAY_GAME,\r\n  END_GAME\r\n} from '../actions';\r\n\r\nimport Justicer from '../components/Justicer';\r\n\r\n// 初始化状态\r\nlet initialGameState = {\r\n  listArray: initialListArray(),\r\n  activeUser: 'black',\r\n  mode: 'pve',\r\n  first: 'human',\r\n  winner: '',\r\n  gameOver: false\r\n};\r\n\r\n// 初始化数组\r\nfunction initialListArray() {\r\n  let listArray = new Array(0);\r\n  for (let i = 0; i < 19; i++) {\r\n    let subList = new Array(0);\r\n    for (var j = 0; j < 19; j++) {\r\n      let piece = {\r\n        piece: 'none'\r\n      };\r\n      subList.push(piece);\r\n    }\r\n    listArray.push(subList);\r\n  }\r\n\r\n  return listArray;\r\n}\r\n\r\n// 下棋\r\nfunction play(state, coord) {\r\n  let x = coord.x;\r\n  let y = coord.y;\r\n  state.listArray[x][y]['piece'] = state.activeUser;\r\n  state.activeUser = state.activeUser === 'black' ? 'white' : 'black';\r\n\r\n  return state;\r\n}\r\n\r\n// 判断输赢\r\nfunction justice(state, coord) {\r\n  let gameOver = Justicer({\r\n    x: coord.x,\r\n    y: coord.y\r\n  }, state.activeUser, state.listArray);\r\n\r\n  return {\r\n    gameOver: gameOver,\r\n    winner: state.activeUser\r\n  };\r\n}\r\n\r\n// 初始化\r\nfunction init(state, nextStatus) {\r\n  state.mode = nextStatus.mode;\r\n  state.first = nextStatus.first;\r\n  state.activeUser = 'black';\r\n  state.listArray = initialListArray();\r\n  state.gameOver = false;\r\n  state.winner = '';\r\n  return state;\r\n}\r\n\r\nfunction gameState(state = initialGameState, action) {\r\n  let newState = JSON.parse(JSON.stringify(state));\r\n  switch (action.type) {\r\n    case INIT_GAME:\r\n      newState = init(newState, action.nextStatus);\r\n      return newState;\r\n    case PLAY_GAME:\r\n      let result = justice(newState, action.coord);\r\n      if (result.gameOver) {\r\n        newState.gameOver = result.gameOver;\r\n        newState.winner = result.winner;\r\n      }\r\n      newState = play(newState, action.coord);\r\n      return newState;\r\n    case END_GAME:\r\n      newState.gameOver = true;\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst gomokuApp = combineReducers({\r\n  gameState\r\n});\r\n\r\nexport default gomokuApp;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './styles.css';\r\n\r\nimport { endGame } from '../../actions';\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      countNum: 60,\r\n      count: 60,\r\n      countId: 0\r\n    };\r\n  }\r\n\r\n  /**\r\n   * 读秒\r\n   */\r\n  counting() {\r\n    if (this.props.gameOver) {\r\n      this.setState({count: this.state.countNum});\r\n      return;\r\n    }\r\n    if (this.state.count <= 0) {\r\n      this.props.dispatch(endGame())\r\n    }\r\n    const countId = setTimeout(() => {\r\n      let count = this.state.count - 1;\r\n      this.setState({count: count});\r\n      this.counting();\r\n    }, 1000);\r\n    this.setState({countId: countId})\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.activeUser !== this.props.activeUser ||\r\n     prevProps.mode !== this.props.mode) {\r\n      clearTimeout(this.state.countId);\r\n      this.setState({count: this.state.countNum});\r\n      this.counting();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { activeUser, gameOver } = this.props;\r\n    const countdown = activeUser === 'black' ? '黑方' : '白方';\r\n    let countdownEl;\r\n    if (!gameOver) {\r\n      countdownEl = (<div className={this.state.count <= 10 ? 'danger' : ''}>\r\n        <span>{countdown}</span>读秒：\r\n        <span>\r\n          {this.state.count}\r\n        </span>秒\r\n      </div>);\r\n    } else {\r\n      countdownEl = (<span></span>);\r\n    }\r\n    return (\r\n      <div className='toolbar'>\r\n        <h1>Gomoku</h1>\r\n        {countdownEl}\r\n        <div className='tools'>\r\n          <h3>Made by classlfz</h3>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    activeUser: state.gameState.activeUser,\r\n    mode: state.gameState.mode,\r\n    gameOver: state.gameState.gameOver\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Header);","import React from 'react';\r\nimport './Item.css';\r\n\r\nexport default class Item extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick(event) {\r\n    if (this.props.piece !== 'none') {\r\n      return;\r\n    }\r\n\r\n    this.props.onClick({\r\n      x: this.props.listNumber,\r\n      y: this.props.sequenceNumber\r\n    });\r\n    event.preventDefault();\r\n  }\r\n\r\n  handleItemClassName(x, y) {\r\n    // 左上角\r\n    if (x === 0 && y === 0) {\r\n      return 'itemLeftTop';\r\n    }\r\n    // 右上角\r\n    if (x === 18 && y === 0) {\r\n      return 'itemRightTop';\r\n    }\r\n    // 右下角\r\n    if (x === 18 && y === 18) {\r\n      return 'itemRightBottom';\r\n    }\r\n    // 左下角\r\n    if (x === 0 && y === 18) {\r\n      return 'itemLeftBottom';\r\n    }\r\n    // 上侧边\r\n    if (y === 0) {\r\n      return 'itemTop';\r\n    }\r\n    // 右侧边\r\n    if (x === 18) {\r\n      return 'itemRight';\r\n    }\r\n    // 下侧边\r\n    if (y === 18) {\r\n      return 'itemBottom';\r\n    }\r\n    // 左侧边\r\n    if (x === 0) {\r\n      return 'itemLeft';\r\n    }\r\n    // 指标位置\r\n    if ((x === 9 && y === 9) ||\r\n        (x === 3 && (y === 3 || y === 9 || y === 15)) ||\r\n        (y === 3 && (x === 3 || x === 9 || x === 15)) ||\r\n        (x === 15 && (y === 9 || y === 15)) ||\r\n        (x === 9 && y === 15)\r\n      ) {\r\n      return 'itemPoint';\r\n    }\r\n    // 其他\r\n    return 'itemNormal';\r\n  }\r\n\r\n  render() {\r\n    const piece = this.props.piece;\r\n    const x = this.props.listNumber;\r\n    const y = this.props.sequenceNumber;\r\n    let itemClassName = null,\r\n        spanClassName = null;\r\n\r\n    // 背景样式\r\n    itemClassName = this.handleItemClassName(x, y);\r\n    // 棋子样式\r\n    if (piece === 'none') {\r\n      spanClassName = 'spanNone';\r\n    } else if (piece === 'black') {\r\n      spanClassName = 'spanBlack';\r\n    } else {\r\n      spanClassName = 'spanWhite';\r\n    }\r\n\r\n    return (\r\n      <div onClick={this.handleClick} className={itemClassName}>\r\n        <div className={spanClassName}></div>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n// components\r\nimport Item from '../Item/Item';\r\n// styles\r\nimport './styles.css';\r\n\r\nexport default class ItemList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick(event) {\r\n    this.props.onClick(event);\r\n  }\r\n\r\n  render() {\r\n    const list = this.props.list.map((item, index) =>\r\n      <div key={index} className='list'>\r\n        <Item\r\n          piece={item.piece}\r\n          listNumber={this.props.listNumber}\r\n          sequenceNumber={index}\r\n          onClick={this.handleClick}/>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        {list}\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n\r\n// styles\r\nimport './styles.css';\r\n\r\nexport default class StatusBar extends React.Component {\r\n  render() {\r\n    const mode = this.props.mode;\r\n    if (mode === 'pvp') {\r\n      const itemClass = this.props.activeUser === 'black' ? 'black' : 'white';\r\n\r\n      return (\r\n        <div className='statusBar'>\r\n          <h3>无禁手</h3>\r\n\r\n          <div className='players'>\r\n            下棋方：\r\n            <div className={itemClass}></div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    const humanClass = this.props.first === 'human' ? 'black' : 'white';\r\n    const computerClass = this.props.first === 'computer' ? 'black' : 'white';\r\n\r\n    return (\r\n      <div className='statusBar'>\r\n        <h3>无禁手</h3>\r\n\r\n        <div className='players'>\r\n          玩家：\r\n          <div className={humanClass}></div>\r\n          电脑：\r\n          <div className={computerClass}></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n\r\n// styles\r\nimport './styles.css';\r\n\r\nexport default class ToolsBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.restart = this.restart.bind(this);\r\n  }\r\n\r\n  /**\r\n   * 重新开启游戏\r\n   * @param {Object} event 点击事件\r\n   */\r\n  restart(event) {\r\n    const mode = this.refs.modeSelect.value;\r\n    const first = this.refs.firstSelect.value;\r\n    this.props.onRestart({\r\n      mode: mode,\r\n      first: first\r\n    });\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='toolsBar'>\r\n        <div>\r\n          <h3>模式：</h3>\r\n          <select\r\n            ref=\"modeSelect\"\r\n            className='select'>\r\n            <option value=\"pve\">人机对战</option>\r\n            <option value=\"pvp\">双人对战</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <h3>先手：</h3>\r\n          <select\r\n            ref=\"firstSelect\"\r\n            className='select'>\r\n            <option value=\"human\">玩家先行</option>\r\n            <option value=\"computer\">电脑先行</option>\r\n          </select>\r\n        </div>\r\n\r\n        <button className='btn' onClick={this.restart}>开始游戏</button>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport './styles.css';\r\n\r\nexport default class Notification extends React.Component {\r\n  render() {\r\n    const notification = !this.props.gameOver ?\r\n      (<div styles=\"display: none;\"></div>) :\r\n      (<div className='notificationWrapper'>\r\n        <div className='notificationBg'></div>\r\n        <div className='notificationContent'>\r\n          <h1>游戏结束!</h1>\r\n          <h3>胜利方为：{this.props.winner === 'black' ? '执黑方' : '执白方'}</h3>\r\n        </div>\r\n      </div>);\r\n\r\n    return notification;\r\n  }\r\n}","export default function(list, activeUser) {\r\n  let pieceCount = 0;\r\n  for (let i = 0; i < list.length; i++) {\r\n    for (let j = 0; j < list[i].length; j++) {\r\n      if (list[i][j]['piece'] === 'none') {\r\n        pieceCount++;\r\n        // 进攻分数计算\r\n        list[i][j]['attackCounts'] = counter(i, j, activeUser, list);\r\n\r\n        // 防守分数计算\r\n        let enemy = activeUser === 'black' ? 'white': 'black';\r\n        list[i][j]['defendCounts'] = counter(i, j, enemy, list);\r\n      }\r\n    }\r\n  }\r\n\r\n  // 先手第一步棋\r\n  if (pieceCount === 361) {\r\n    return {\r\n      x: 9,\r\n      y: 9\r\n    };\r\n  }\r\n\r\n  let countTop = 0;\r\n  let topTime = 0;\r\n  let countSumTop = 0;\r\n  let x = 0,\r\n      y = 0;\r\n  for (let k = 0; k < list.length; k++) {\r\n    for (let l = 0; l < list[k].length; l++) {\r\n      if (list[k][l]['piece'] === 'none') {\r\n        let attackCountTop = list[k][l]['attackCounts']['countTop'];\r\n        let attackCountRepeat = list[k][l]['attackCounts']['countRepeat'];\r\n        let attackCountArr = list[k][l]['attackCounts']['countArr'];\r\n        let defendCountTop = list[k][l]['defendCounts']['countTop'];\r\n        let defendCountRepeat = list[k][l]['defendCounts']['countRepeat'];\r\n        // let defendCountArr = list[k][l]['defendCounts']['countArr'];\r\n\r\n        // 进攻评分\r\n        if (attackCountTop > countTop) {\r\n          countTop = attackCountTop;\r\n          topTime = attackCountRepeat;\r\n          x = k;\r\n          y = l;\r\n        }\r\n\r\n        if (attackCountTop === countTop && attackCountRepeat > topTime) {\r\n          countTop = attackCountTop;\r\n          topTime = attackCountRepeat;\r\n          x = k;\r\n          y = l;\r\n        }\r\n\r\n        // 防守评分\r\n        if (defendCountTop > countTop) {\r\n          countTop = defendCountTop;\r\n          topTime = defendCountRepeat;\r\n          x = k;\r\n          y = l;\r\n        }\r\n\r\n        if (defendCountTop === countTop && defendCountRepeat > topTime) {\r\n          countTop = defendCountTop;\r\n          topTime = defendCountRepeat;\r\n          x = k;\r\n          y = l;\r\n        }\r\n\r\n        if (defendCountTop === countTop && defendCountRepeat === topTime) {\r\n          let countSum = 0;\r\n          for (let count of attackCountArr) {\r\n            countSum += count;\r\n          }\r\n\r\n          if (countSum > countSumTop) {\r\n            countSumTop = countSum;\r\n            x = k;\r\n            y = l;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    x: x,\r\n    y: y\r\n  };\r\n}\r\n\r\n// 统计所有分数，并返回数组\r\nfunction counter(x, y, active, list) {\r\n  let count = 0;\r\n  count = justiceXL(x, y, active, list, count);\r\n  count = justiceXR(x, y, active, list, count);\r\n  let horizontal = count;\r\n\r\n  // 45度角\r\n  count = 0;\r\n  count = justiceXYLL(x, y, active, list, count);\r\n  count = justiceXYLR(x, y, active, list, count);\r\n  let leftBevel = count;\r\n\r\n  // 90度角\r\n  count = 0;\r\n  count = justiceYT(x, y, active, list, count);\r\n  count = justiceYB(x, y, active, list, count);\r\n  let vertical = count;\r\n\r\n  // 135度角\r\n  count = 0;\r\n  count = justiceXYRR(x, y, active, list, count);\r\n  count = justiceXYRL(x, y, active, list, count);\r\n  let rightBevel = count;\r\n\r\n  let countArr = [horizontal, leftBevel, vertical, rightBevel];\r\n  let countTop = 0;\r\n  let countRepeat = 1;\r\n  for (let count of countArr) {\r\n    if (count > countTop) {\r\n      countTop = count;\r\n      countRepeat = 1;\r\n    } else if (count === countTop) {\r\n      countRepeat++;\r\n    }\r\n  }\r\n\r\n  return {\r\n    countTop: countTop,\r\n    countRepeat: countRepeat,\r\n    countArr: countArr\r\n  };\r\n}\r\n\r\n// 水平左\r\nfunction justiceXL(x, y, piece, list, count) {\r\n  if (!list[x - 1] || !list[x - 1][y]) {\r\n    count--;\r\n  }\r\n\r\n  if (list[x - 1] && list[x - 1][y] && list[x - 1][y]['piece'] !== 'none') {\r\n    if (list[x - 1][y]['piece'] === piece) {\r\n      count++;\r\n      count++;\r\n      return justiceXL(x - 1, y, piece, list, count);\r\n    }\r\n\r\n    if (list[x - 1][y]['piece'] === 'none') {\r\n      count++;\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 水平右\r\nfunction justiceXR(x, y, piece, list, count) {\r\n  if (!list[x + 1] || !list[x + 1][y]) {\r\n    count--;\r\n  }\r\n\r\n  if (list[x + 1] && list[x + 1][y] && list[x + 1][y]['piece'] !== 'none') {\r\n    if (list[x + 1][y]['piece'] === piece) {\r\n      count++;\r\n      count++;\r\n      return justiceXR(x + 1, y, piece, list, count);\r\n    }\r\n\r\n    if (list[x + 1][y]['piece'] === 'none') {\r\n      count++;\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 45度角左判断\r\nfunction justiceXYLL(x, y, piece, list, count) {\r\n  if (!list[x - 1] || !list[x - 1][y - 1]) {\r\n    count--;\r\n  }\r\n\r\n  if (list[x - 1] && list[x - 1][y - 1] && list[x - 1][y - 1] !== 'none') {\r\n    if (list[x - 1][y - 1]['piece'] === piece) {\r\n      count++;\r\n      count++;\r\n      return justiceXYLL(x - 1, y - 1, piece, list, count);\r\n    }\r\n\r\n    if (list[x - 1][y - 1]['piece'] === 'none') {\r\n      count++;\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 45度角右判断\r\nfunction justiceXYLR(x, y, piece, list, count) {\r\n  if (!list[x + 1] || !list[x + 1][y + 1]) {\r\n    count--;\r\n  }\r\n\r\n  if (list[x + 1] && list[x + 1][y + 1] && list[x + 1][y + 1] !== 'none') {\r\n    if (list[x + 1][y + 1]['piece'] === piece) {\r\n      count++;\r\n      count++;\r\n      return justiceXYLR(x + 1, y + 1, piece, list, count);\r\n    }\r\n\r\n    if (list[x + 1][y + 1]['piece'] === 'none') {\r\n      count++;\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 90度角上判断\r\nfunction justiceYT(x, y, piece, list, count) {\r\n  if (!list[x] || !list[x][y - 1]) {\r\n    count--;\r\n  }\r\n\r\n  if (list[x] && list[x][y - 1] && list[x][y - 1] !== 'none') {\r\n    if (list[x][y - 1]['piece'] === piece) {\r\n      count++;\r\n      count++;\r\n      return justiceYT(x, y - 1, piece, list, count);\r\n    }\r\n\r\n    if (list[x][y - 1]['piece'] === 'none') {\r\n      count++;\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 90度角下判断\r\nfunction justiceYB(x, y, piece, list, count) {\r\n  if (!list[x] || !list[x][y + 1]) {\r\n    count--;\r\n  }\r\n\r\n  if (list[x] && list[x][y + 1] && list[x][y + 1] !== 'none') {\r\n    if (list[x][y + 1]['piece'] === piece) {\r\n      count++;\r\n      count++;\r\n      return justiceYB(x, y + 1, piece, list, count);\r\n    }\r\n\r\n    if (list[x][y + 1]['piece'] === 'none') {\r\n      count++;\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 135度角右判断\r\nfunction justiceXYRR(x, y, piece, list, count) {\r\n  if (!list[x + 1] || !list[x + 1][y - 1]) {\r\n    count--;\r\n  }\r\n\r\n  if (list[x + 1] && list[x + 1][y - 1] && list[x + 1][y - 1] !== 'none') {\r\n    if (list[x + 1][y - 1]['piece'] === piece) {\r\n      count++;\r\n      count++;\r\n      return justiceXYRR(x + 1, y - 1, piece, list, count);\r\n    }\r\n\r\n    if (list[x + 1][y - 1]['piece'] === 'none') {\r\n      count++;\r\n    }\r\n  }\r\n\r\n  return count;\r\n}\r\n\r\n// 135度角右判断\r\nfunction justiceXYRL(x, y, piece, list, count) {\r\n  if (!list[x - 1] || !list[x - 1][y + 1]) {\r\n    count--;\r\n  }\r\n\r\n  if (list[x - 1] && list[x - 1][y + 1] && list[x - 1][y + 1] !== 'none') {\r\n    if (list[x - 1][y + 1]['piece'] === piece) {\r\n      count++;\r\n      count++;\r\n      return justiceXYRL(x - 1, y + 1, piece, list, count);\r\n    }\r\n\r\n    if (list[x - 1][y + 1]['piece'] === 'none') {\r\n      count++;\r\n    }\r\n  }\r\n\r\n  return count;\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from '../components/Header/Header';\r\nimport ItemList from '../components/ItemList/ItemList';\r\nimport StatusBar from '../components/StatusBar/StatusBar';\r\nimport ToolsBar from '../components/ToolsBar/ToolsBar';\r\nimport Notification from '../components/Notification/Notification';\r\n\r\nimport { initGame, playGame } from '../actions';\r\n\r\n// styles\r\nimport './App.css';\r\n\r\n// AI\r\nimport Footprint from './Footprint';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.play = this.play.bind(this);\r\n  }\r\n\r\n  // 下棋，派遣修改gameState\r\n  play(coord) {\r\n    const { dispatch } = this.props;\r\n    return dispatch(playGame(coord));\r\n  }\r\n\r\n  // 每次重新渲染以后，判断是否需要ai下棋\r\n  componentDidUpdate() {\r\n    const { dispatch, gameState } = this.props;\r\n    const mode = gameState.mode;\r\n    const first = gameState.first;\r\n    const activeUser = gameState.activeUser;\r\n    const listArray = gameState.listArray;\r\n    if (mode === 'pvp') {\r\n      return;\r\n    }\r\n    const isAiRound = ((first === 'human' && activeUser === 'white') || (first === 'computer' && activeUser === 'black'));\r\n    if (isAiRound && !gameState.gameOver) {\r\n      // ai下棋\r\n      let coord = Footprint(listArray, activeUser);\r\n      return dispatch(playGame(coord));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // Injectd by connect() call:\r\n    const { dispatch, gameState } = this.props;\r\n    const itemList = gameState.listArray.map((item, index) =>\r\n      <div key={index}>\r\n        <ItemList list={item} onClick={coord => this.play(coord)} listNumber={index}/>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div className='container'>\r\n        <Header activeUser={gameState.activeUser}/>\r\n        <div className='main'>\r\n          <StatusBar\r\n            mode={gameState.mode}\r\n            first={gameState.first}\r\n            activeUser={gameState.activeUser}\r\n            />\r\n          <div className='chessboard'>\r\n            <Notification gameOver={gameState.gameOver} winner={gameState.winner} />\r\n            {itemList}\r\n          </div>\r\n          <ToolsBar onRestart={(nextStatus) => dispatch(initGame(nextStatus))}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    gameState: state.gameState\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(App);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport gomokuApp from './reducers';\r\n\r\n// import Gomoku from './components/Gomoku';\r\nimport App from './containers/App';\r\n\r\nlet store = createStore(gomokuApp);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}